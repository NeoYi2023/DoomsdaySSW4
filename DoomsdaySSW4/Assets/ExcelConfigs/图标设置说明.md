# 升级选项图标设置说明

## 概述

升级选项现在支持显示图标。图标通过配置表中的 `iconPath` 字段指定，并在 `UpgradeSelectionScreen` 中动态加载显示。

## 图标路径格式

图标路径是相对于 `Resources` 目录的路径，不需要包含文件扩展名。

示例：
- `Icons/Upgrades/drill_strength_1` → 对应 `Assets/Resources/Icons/Upgrades/drill_strength_1.png`
- `Icons/Upgrades/mining_efficiency_1` → 对应 `Assets/Resources/Icons/Upgrades/mining_efficiency_1.png`

## 在Unity中设置图标

### 步骤1：准备图标文件

1. 准备升级选项的图标图片（推荐格式：PNG，支持透明背景）
2. 建议尺寸：128x128 或 256x256 像素
3. 将图标文件放到 `Assets/Resources/Icons/Upgrades/` 目录

### 步骤2：配置图标路径

在Excel配置表（或CSV）中，为每个升级选项填写 `iconPath` 字段：

```
upgradeId,type,name,description,value,weight,iconPath
drill_strength_1,DrillStrength,挖掘强度提升 I,钻头攻击值 +5,5,30,Icons/Upgrades/drill_strength_1
```

**注意：**
- 路径不需要包含文件扩展名（.png）
- 路径是相对于Resources目录的
- 如果图标路径为空，图标将不显示

### 步骤3：在Unity Editor中设置UI

1. 打开 `UpgradeSelectionScreen` GameObject
2. 在Inspector中找到 `UpgradeSelectionScreen` 组件
3. 展开 `Option Icons` 数组
4. 为每个选项按钮添加Image组件：
   - 在 `Option1Button` 下创建子GameObject，命名为 `Icon`
   - 添加 `Image` 组件
   - 将Image组件拖拽到 `Option Icons[0]` 字段
   - 重复上述步骤为 `Option2Button` 和 `Option3Button` 设置图标

### 步骤4：调整图标显示

1. 设置Image组件的RectTransform：
   - 调整大小和位置
   - 设置锚点（建议使用左上角或中心）
2. 设置Image属性：
   - Image Type: Simple
   - Preserve Aspect: 勾选（保持宽高比）
   - Raycast Target: 取消勾选（如果不需要点击图标）

## 图标命名建议

建议使用以下命名规则：
- `drill_strength_1` - 挖掘强度提升 I
- `drill_strength_2` - 挖掘强度提升 II
- `drill_range_1` - 挖掘范围提升 I
- `drill_range_2` - 挖掘范围提升 II
- `mining_efficiency_1` - 挖掘效率提升 I
- `mining_efficiency_2` - 挖掘效率提升 II
- `ore_value_boost_1` - 矿石价值提升 I
- `ore_value_boost_2` - 矿石价值提升 II
- `ore_discovery_1` - 矿石发现能力 I
- `ore_discovery_2` - 矿石发现能力 II

## 注意事项

1. **Resources目录要求**：图标必须放在 `Assets/Resources/` 目录下，Unity才能通过 `Resources.Load` 加载
2. **文件扩展名**：配置表中的路径不需要包含文件扩展名（.png, .jpg等）
3. **大小写敏感**：路径是大小写敏感的，确保配置表中的路径与实际文件路径完全匹配
4. **空路径处理**：如果 `iconPath` 为空或图标文件不存在，图标将自动隐藏，不会影响其他功能
5. **性能考虑**：图标会在显示升级选项时动态加载，建议使用压缩的图片格式以优化性能

## 故障排除

### 图标不显示

1. 检查图标文件是否在 `Assets/Resources/` 目录下
2. 检查配置表中的 `iconPath` 是否正确
3. 检查Unity Editor中 `Option Icons` 数组是否正确设置
4. 查看Console是否有加载错误信息

### 图标显示错误

1. 检查图标文件路径是否正确（大小写敏感）
2. 检查图标文件格式是否支持（PNG, JPG等）
3. 检查Image组件的设置是否正确

## 示例配置

完整的配置表示例：

```csv
upgradeId,type,name,description,value,weight,iconPath
drill_strength_1,DrillStrength,挖掘强度提升 I,钻头攻击值 +5,5,30,Icons/Upgrades/drill_strength_1
drill_strength_2,DrillStrength,挖掘强度提升 II,钻头攻击值 +10,10,15,Icons/Upgrades/drill_strength_2
drill_range_1,DrillRange,挖掘范围提升 I,钻头范围 +1x1,1,30,Icons/Upgrades/drill_range_1
```

对应的文件结构：
```
Assets/
└── Resources/
    └── Icons/
        └── Upgrades/
            ├── drill_strength_1.png
            ├── drill_strength_2.png
            └── drill_range_1.png
```
